import json

# Input JSON
input_json = {
    "TC.NO": {"0": 1.0, "1": None, "2": None, "3": 2.8, "4": None, "5": None},
    "Test Description": {
        "0": "Validate that User is able to see Partyname in Authorization tab for a policy",
        "1": None,
        "2": None,
        "3": "Validate that User is able to see Partyname in Authorization tab for a case",
        "4": None,
    },
    "Test Steps": {
        "0": "Login to FAST with valid credentials",
        "1": "Submit and issue a Cash annuity app.",
        "2": "Verify user is able to see the PartyName (agent name/contract name) in Authorization tab.",
        "3": "Login to FAST with valid credentials",
        "4": "Submit and issue a Cash annuity app.",
        "5": "Verify user is able to see the PartyName (agent name/contract name) in Authorization tab.",
    },
    "Expected Results": {
        "0": "FAST should be logged in successfully.",
        "1": "Case is created.",
        "2": "User is able to see the PartyName (agent name/contract name) in Authorization tab.",
        "3": "FAST should be logged in successfully.",
        "4": None,
        "5": None,
    },
}

# Function to generate the output string
def generate_test_cases(input_json):
    result = []
    last_valid_description = None
    for key, test_case in input_json["TC.NO"].items():
        # Handle null descriptions
        description = input_json["Test Description"].get(key)
        if description is not None:
            last_valid_description = description

        # Format test case
        result.append(f"Test case number: {key}")
        result.append(f"Test Description: {last_valid_description}")
        result.append("Test Steps:")
        for step_key, step in input_json["Test Steps"].items():
            if step_key == key and step:
                result.append(f"{step_key}. {step}")
        result.append("Expected Results:")
        for result_key, expected in input_json["Expected Results"].items():
            if result_key == key and expected:
                result.append(f"{result_key}. {expected}")
        result.append("")  # Empty line between test cases

    return "\n".join(result)


# Generate and print the output string
output_string = generate_test_cases(input_json)
print(output_string)
