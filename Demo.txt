import psycopg2

try:
    conn = psycopg2.connect(
        host="gai...postgres.database.azure.com",
        port=5432,
        database="gai_cle",
        user="your_username@your_server_name",  # important: include @server-name
        password="your_password",
        sslmode="require"
    )

    cur = conn.cursor()
    cur.execute("SELECT NOW();")
    print("Connected successfully, server time:", cur.fetchone())

    cur.close()
    conn.close()

except Exception as e:
    print("Connection failed:", e)
