import json

def parse_test_scenarios(file_path):
    with open(file_path, 'r') as file:
        lines = file.readlines()
    
    test_cases = {}
    current_test_case = {}
    current_key = None
    case_number = 1
    
    for line in lines:
        line = line.strip()
        
        # Detect Test Scenario
        if line.startswith("Test Scenario"):
            if current_test_case:
                test_cases[f"TC-{case_number}"] = current_test_case
                case_number += 1
                current_test_case = {}
            current_test_case["Test Scenario"] = line.strip()
        
        # Detect Test Description
        elif line.startswith("Test Description:"):
            current_key = "Test Description"
            current_test_case[current_key] = ""
        
        # Detect Test Steps
        elif line.startswith("Test Steps:"):
            current_key = "Test Steps"
            current_test_case[current_key] = ""
        
        # Detect Expected Result
        elif line.startswith("Expected Result:"):
            current_key = "Expected Results"
            current_test_case[current_key] = ""
        
        # Populate the current key with the next line of text
        elif current_key:
            if current_test_case[current_key] == "":
                current_test_case[current_key] = line
            else:
                current_test_case[current_key] += " " + line

    # Add the last test case
    if current_test_case:
        test_cases[f"TC-{case_number}"] = current_test_case

    return test_cases

def save_to_json(data, output_path):
    with open(output_path, 'w') as file:
        json.dump(data, file, indent=4)

# Main program
input_file = 'FAT-480 best steps.txt'  # Replace with your file name
output_file = 'temp.json'

parsed_data = parse_test_scenarios(input_file)
save_to_json(parsed_data, output_file)

print(f"JSON file saved to {output_file}")
